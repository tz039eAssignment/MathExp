p = [30 70 10 10];
q = [50 70 20 40];
c = [50 60 50] * 2;
m = [160 130 220 170
     140 130 190 150
     190 200 230 0];

A = [-1 0 0 0 -1 0 0 0 -1 0 0
     0 -1 0 0 0 -1 0 0 0 -1 0
     0 0 -1 0 0 0 -1 0 0 0 -1
     0 0 0 -1 0 0 0 -1 0 0 0
     1 0 0 0 1 0 0 0 1 0 0
     0 1 0 0 0 1 0 0 0 1 0
     0 0 1 0 0 0 1 0 0 0 1
     0 0 0 1 0 0 0 1 0 0 0
     1 1 1 1 0 0 0 0 0 0 0
     0 0 0 0 1 1 1 1 0 0 0
     0 0 0 0 0 0 0 0 1 1 1];
b = [-p(1) -p(2) -p(3) -p(4) p(1)+q(1) p(2)+q(2) p(3)+q(3) p(4)+q(4) c(1) c(2) c(3)]';
f = zeros(1, 12);
for i = 1:3
    for j = 1:4
        f((i-1)*4+j) = 450 - m(i, j);
    end
end
f = -f(1:11);

[x, fval] = linprog(f, A, b, [], [], zeros(11, 1), [])
